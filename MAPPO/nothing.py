import matplotlib.pyplot as plt
import re

log = """[paste your log here]"""

# Data extracted from log
data = [
    (10, -683561.46), (20, -792363.30), (30, -734254.00), (40, -740487.06),
    (50, -692949.76), (60, -716403.17), (70, -630157.08), (80, -694511.04),
    (90, -757948.11), (100, -528692.77), (110, -583961.52), (120, -590867.76),
    (130, -684392.76), (140, -675659.97), (150, -603883.23), (160, -530858.52),
    (170, -646436.39), (180, -615428.21), (190, -542876.46), (200, -569667.87),
    (210, -576969.70), (220, -531818.27), (230, -536546.34), (240, -621824.37),
    (250, -456656.05), (260, -634251.66), (270, -593501.45), (280, -641546.22),
    (290, -573743.74), (300, -443504.69), (310, -584884.63), (320, -481378.20),
    (330, -537277.13), (340, -455372.68), (350, -385080.66), (360, -463060.30),
    (370, -414023.68), (380, -496843.05), (390, -519085.07), (400, -556338.15),
    (410, -451587.97), (420, -445084.52), (430, -427629.87), (440, -390845.78),
    (450, -539253.20), (460, -422592.39), (470, -455966.69), (480, -328581.28),
    (490, -569284.51), (500, -405465.47), (510, -397474.13), (520, -479223.85),
    (530, -461987.02), (540, -440382.02), (550, -472400.01), (560, -389521.98),
    (570, -389911.47), (580, -446959.14), (590, -509485.68), (600, -458000.05),
    (610, -460525.58), (620, -508816.55), (630, -523816.58), (640, -460287.01),
    (650, -604457.79), (660, -379181.94), (670, -539402.01), (680, -412998.91),
    (690, -349034.78), (700, -485743.34), (710, -340423.69), (720, -465613.82),
    (730, -443654.68), (740, -333590.62), (750, -305460.76), (760, -518447.46),
    (770, -534060.37), (780, -336147.56), (790, -503124.95), (800, -359926.37),
    (810, -354308.83), (820, -284012.70), (830, -301712.79), (840, -374899.54),
    (850, -335404.26), (860, -406997.81), (870, -394855.92), (880, -414282.03),
    (890, -260348.23), (900, -450242.24), (910, -343072.72), (920, -360410.77),
    (930, -391265.10), (940, -419426.92), (950, -270037.52), (960, -226176.31),
    (970, -329720.76), (980, -292902.57), (990, -348099.84), (1000, -322342.11),
]

episodes, rewards = zip(*data)

plt.figure(figsize=(14, 6))
plt.plot(episodes, rewards, color='steelblue', linewidth=1.5, alpha=0.8)
plt.fill_between(episodes, rewards, alpha=0.1, color='steelblue')

plt.xlabel('Episode', fontsize=13)
plt.ylabel('Avg Reward (last 10)', fontsize=13)
plt.title('MAPPO Training Progress â€” Average Reward over Episodes', fontsize=15)
plt.grid(True, linestyle='--', alpha=0.5)
plt.tight_layout()
plt.savefig('mappo_training_curve.png', dpi=150)
plt.show()